# Plan Mode規約

Plan Modeでの動作ルール。

## 基本フロー

1. **概要提示**: 大まかな概要を提示し、全体の流れの確認を取る
2. **詳細化**: ユーザー承認後、詳細を詰める
3. **ファイル作成**: planファイルを作成してから確認を依頼
   - 理由: planファイルの再生成には時間がかかるため
   - 方針: 最初に完全なファイルを作成し、その後は段階的に更新
4. **段階的更新**: 確認後は都度ファイル保存・更新（Editツール使用）

## 表示ルール

- ❌ **禁止**: ファイル内容をターミナルに出力表示
  - 理由: ユーザーはIDEでファイルを開いて確認する
  - 問題: 長いファイル出力により、重要な修正コメントが見えなくなる
- ✅ **推奨**: 変更内容の要約のみを簡潔に表示
  - 例: "3箇所を更新: メッセージ統一、テスト追加、ルート修正"
  - 例: "507行目: エラーメッセージをinvalidと統一"

## 記載ルール

- **簡潔性の優先**: 計画は極めて簡潔にまとめること。簡潔さを優先し、文法は犠牲にしても構わない
- **未解決質問の明記**: 各計画の末尾には、未解決の質問があれば回答すべきリストを記載すること

## Plan Mode中の制約

- 編集可能: planファイル（`/Users/ATORA/.claude/plans/*.md`）のみ
- 編集不可: その他すべてのファイル（コード、仕様書、設定ファイル等）
- 実行可能: Read-only操作（Glob, Grep, Read, Bash等）のみ
