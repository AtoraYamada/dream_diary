<% content_for :title, "夢日記帳 - 記憶の目録" %>
<% content_for :html_class, "after-door list-page" %>
<% content_for :body_attributes do %>data-page="list" data-library-path="<%= library_path %>"<% end %>

<% content_for :head do %>
    <%= render 'shared/blink_prevention' %>
<% end %>

    <!-- 4:3 Viewport with outer wall as background (from 5.5) -->
    <div class="viewport-container">
        <!-- インタラクティブ要素: ライブラリへ戻るボタン -->
        <div class="back-button" id="back-to-library-button"></div>

        <div class="bookshelf-display">
            <!-- Asset: img_bookshelf_empty.png is background (本棚本体) -->

            <div class="book-spines-container" id="book-spines-container">
                <!-- Example book spines (本の背表紙) -->
                <div class="book-spine peace" data-title="最初の夢" data-id="1"></div>
                <div class="book-spine chaos" data-title="混沌の夜" data-id="2"></div>
                <div class="book-spine fear" data-title="恐怖の影" data-id="3"></div>
                <div class="book-spine elation" data-title="高揚の空" data-id="4"></div>
                <div class="book-spine peace" data-title="古城の秘密" data-id="5"></div>
                <div class="book-spine peace" data-title="森の記憶" data-id="6"></div>
                <div class="book-spine chaos" data-title="無限回廊" data-id="7"></div>
                <div class="book-spine fear" data-title="忘れられた歌" data-id="8"></div>
                <div class="book-spine elation" data-title="星の彼方" data-id="9"></div>
                <div class="book-spine peace" data-title="月の涙" data-id="10"></div>
                <div class="book-spine chaos" data-title="古びた地図" data-id="11"></div>
                <div class="book-spine fear" data-title="砂の城" data-id="12"></div>
            </div>
        </div>

        <div class="pagination-left" id="pagination-left">❮</div>
        <div class="pagination-right" id="pagination-right">❯</div>

        <!-- インタラクティブ要素: 索引箱トリガー。クリックで索引カードモーダルを開く。 -->
        <div class="index-box-trigger" id="index-box-trigger"></div>
    </div>

    <!-- Detail Modal (詳細表示用) -->
    <%= render 'shared/modals/detail_modal' %>

    <!-- Index Card Modal -->
    <%= render 'shared/modals/index_card_modal' %>

    <!-- Edit Modal (巻物モーダル - library.htmlから流用) -->
    <%= render 'shared/modals/scroll_modal', bookmark_id: 'list-save-bookmark' %>

